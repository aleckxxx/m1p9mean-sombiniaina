<div class="mid-container">
    <h1 class="title">{{title}}</h1>
    <form #dishForm="ngForm" class="form-container">
        <div class="form-group">
            <label>Nom:</label>
            <input class="form-control" [ngClass]="{'is-invalid': errors.name}" [value]="dish.name" type="text" name="name" ngModel>
            <div *ngIf="errors.name" class="invalid-feedback">
                {{errors.name.msg}}
            </div>
        </div>
        <div class="form-group">
            <label>Description:</label>
            <input class="form-control" [ngClass]="{'is-invalid': errors.description}" [value]="dish.description" type="text" name="description" ngModel>
            <div *ngIf="errors.description" class="invalid-feedback">
                {{errors.description.msg}}
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Prix:</label>
                    <input class="form-control" [ngClass]="{'is-invalid': errors.price}" [value]="dish.price" type="text" name="price" ngModel>
                    <div *ngIf="errors.price" class="invalid-feedback">
                        {{errors.price.msg}}
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Prix de revient:</label>
                    <input class="form-control" [ngClass]="{'is-invalid': errors.makingPrice}" [value]="dish.makingPrice" type="text" name="makingPrice" ngModel>
                    <div *ngIf="errors.makingPrice" class="invalid-feedback">
                        {{errors.makingPrice.msg}}
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Actif:</label>
                    <select class="form-control" [ngClass]="{'is-invalid': errors.active}" [value]="dish.active" type="text" name="active" ngModel>
                        <option value="1">Oui</option>
                        <option value="0">Non</option>
                    </select>    
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Catégorie:</label>
                    <select class="form-control" [ngClass]="{'is-invalid': errors.categoryId}" [value]="dish.categoryId" name="categoryId" ngModel>
                        <option *ngFor="let category of categories" [value]="category._id">{{category.name}}</option>
                    </select>    
                </div>
            </div>
            <div class="form-group">
                <label>Photo: </label>
                <input class="form-control" type="file" (change)="selectFile($event)">
                <span>Faites en sorte d'avoir une photo 400 x 400 pour être uploadée.</span>
            </div>
        </div>
        <button class="btn btn-black btn-side" (click)="onAction(dishForm)">{{action}}</button>
    </form>
</div>
